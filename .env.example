# FortiManager MCP Server Configuration
# Copy to .env and fill in your values

# =============================================================================
# FortiManager Connection (Required)
# =============================================================================
FORTIMANAGER_HOST=your-fmg-hostname-or-ip

# Authentication Option 1: API Token (recommended for FMG 7.2+)
FORTIMANAGER_API_TOKEN=your-api-token

# Authentication Option 2: Username/Password
# FORTIMANAGER_USERNAME=admin
# FORTIMANAGER_PASSWORD=your-password

# =============================================================================
# Connection Settings (Optional)
# =============================================================================
FORTIMANAGER_PORT=443
FORTIMANAGER_VERIFY_SSL=false
FORTIMANAGER_TIMEOUT=30
FORTIMANAGER_MAX_RETRIES=3

# =============================================================================
# Tool Mode (Optional)
# =============================================================================
# "full" = All tools loaded (default, best for large context windows)
# "dynamic" = Only discovery tools loaded initially (~90% context reduction)
FMG_TOOL_MODE=full

# =============================================================================
# MCP Server Settings (Optional)
# =============================================================================
# Server mode: "http" for Docker/web, "stdio" for Claude Desktop, "auto" to detect
MCP_SERVER_MODE=auto
# Bind address: "0.0.0.0" for Docker, "127.0.0.1" for local only
MCP_SERVER_HOST=0.0.0.0
# Server port
MCP_SERVER_PORT=8000

# =============================================================================
# Security Settings (Optional)
# =============================================================================
# Bearer token for HTTP auth. If set, all HTTP requests (except /health)
# must include Authorization: Bearer <token>.
# Recommended for Docker/HTTP deployments.
# MCP_AUTH_TOKEN=

# Additional allowed Host header values for DNS rebinding protection.
# Required when running behind a reverse proxy (Traefik, nginx, etc.).
# The MCP SDK rejects non-localhost Host headers by default.
# Format: JSON array, e.g., ["mcp.example.com"]
# MCP_ALLOWED_HOSTS=

# Comma-separated list of allowed output directories.
# SECURE BY DEFAULT: File output is disabled unless explicitly configured.
# Only tools that write files require this setting.
# All query/read tools work without it.
# FMG_ALLOWED_OUTPUT_DIRS=~/Downloads

# =============================================================================
# Default ADOM (Optional)
# =============================================================================
# Default ADOM for all operations (if not specified in tool calls)
DEFAULT_ADOM=root

# =============================================================================
# Testing Configuration (Optional)
# =============================================================================
# Default ADOM for tests (overrides DEFAULT_ADOM for test runs)
TEST_ADOM=root

# =============================================================================
# Logging (Optional)
# =============================================================================
LOG_LEVEL=INFO
